{% extends "layout.html" %}

{% block body %}

<!-- Header Bar Content -->
<header>
    <h1 class="header-title"> Welcome to Plato's Library, {{username}}. </h1>
</header>

<main>
    <div class="center-wrap">
        <div class="box">

            <h2 class="main-header">Search Results:</h2>
            <form method="post" action="{{ url_for('view_book') }}">
                <div class="button-wrapper">
                    <button class="button-style" type="submit" name="action" value="home"}}">
                    Go back to Home</button>
                </div>
            </form>
            

            {% if results %}
            {% for book in results %}
            <div class="result-card">
                <div class="result-text">
                    <p>{{ book.title }}, {{ book.author }} ({{ book.year }})</p>
                </div>

                <form method="post" action="{{ url_for('view_book') }}">
                    <input type="hidden" name="isbn" value="{{ book.isbn }}">
                    <button class="button-style" type="submit" name="action" value="info">
                        See book information
                    </button>
                </form>
            </div>
            {% endfor %}
            {% else %}
            <p>No book found from search.</p>
            {% endif %}
        </div>
    </div>
</main>

{% endblock %}
